<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../redux-store/redux-store.html">

<dom-module id="friend-input">
  <template>
    <paper-input 
      id="name"
      label="Enter your friends name">
    </paper-input>

    <paper-button 
      on-click="addFriend">Add Friend</paper-button>
  </template>

  <script>
    class FriendInput extends ReduxMixin( Polymer.Element ) {
      static get is( ) { return 'friend-input'; }

      static get properties( ) {
        return { }
      }

      static get actions( ) {
        return {
          add( friend ) {
            return {
              type   : 'ADD_FRIEND',
              friend
            }
          }
        }
      }

      addFriend( ) {
        const name  = this.$.name,
              image = this.$.image;

        if( name.value ) {
          this.dispatch( 'add', { name : name.value, image : "http://www.rceno.com/RCENO/wp-content/uploads/2013/09/NoImageAvailable.jpg" } );
          name.value  = null;
          name.focus( );
        }
      }

    }

    window.customElements.define( FriendInput.is, FriendInput );
  </script>
</dom-module>
