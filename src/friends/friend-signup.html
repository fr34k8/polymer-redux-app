<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/paper-progress/paper-progress.html">
<link rel="import" href="../../bower_components/paper-toast/paper-toast.html">
<link rel="import" href="../redux-store/redux-store.html">
<link rel="import" href="../shared-styles.html">

<dom-module id="friend-signup">
  <template> 
    <style include="shared-styles">
    </style>
    <!--<template is="dom-if" if="[[username]]">
      <p>Allow me to introduce you to [[username]]! They've been added to your friends List!</p>
    </template>-->
    <paper-icon-button
      on-click="_signup"
      icon="face">
      Find a new Friend
    </paper-icon-button>

    <!--<papert-toast id="toast">
      <p>Allow me to introduce you to [[username]]! They've been added to your friends List!</p>
    </papert-toast>-->
  </template>

  <script>
    class FriendSignup extends AsyncActionsMixin( Polymer.Element ) {
      static get is( ) { return 'friend-signup'; }

      static get properties( ) {
        return { 
          loading     : {
            type      : Boolean,
            statePath : 'loading'
          },

          username    : {
            type      : String,
            statePath : 'username'
          }
        }
      }

      _signup( ) {
        this.dispatch( 'signupWithTimeout' );
      }

    }

    window.customElements.define( FriendSignup.is, FriendSignup );
  </script>
</dom-module>
