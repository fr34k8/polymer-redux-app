<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/paper-progress/paper-progress.html">
<link rel="import" href="../redux-store/redux-store.html">

<dom-module id="friend-signup">
  <template> 
    <paper-button
      on-click="signup">
      <iron-icon icon="face"></iron-icon>
      Find a new Friend
    </paper-button>

    <template is="dom-if" if="[[username]]">
      <p>Allow me to introduce you to [[username]]! They've been added to your friends List!</p>
    </template>
  </template>

  <script>
    class FriendSignup extends AsyncActionsMixin( Polymer.Element ) {
      static get is( ) { return 'friend-signup'; }

      static get properties( ) {
        return { 
          loading     : {
            type      : Boolean,
            statePath : 'loading'
          },

          username    : {
            type      : String,
            statePath : 'username'
          }
        }
      }

      signup( ) {
        this.dispatch( 'signupWithTimeout' );
      }

    }

    window.customElements.define( FriendSignup.is, FriendSignup );
  </script>
</dom-module>
